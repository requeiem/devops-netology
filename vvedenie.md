# Домашнее задание к занятию 1.  «Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения»

## Задача 1

Опишите кратко, в чём основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

Ответ:

Полная виртуализация. Полная эмуляция аппаратных средств. Производительность медленнее из-за накладных расходов на аппаратную эмуляцию.
Может работать под управлением нескольких ОС без модификаций.

Паравиртуализация. Частичная эмуляция или ее отсутствие. Требуется модификация гостевой ОС. Производительность быстрее и с меньшими накладными расходами.
Ограничен модифицированными ОС.

Виртуализация на уровне ОС. Отсутствие виртуализованного оборудования и использование реального оборудования и драйверов позволяют получить
непревзойденную производительность. Каждый контейнер может масштабироваться до ресурсов целого физического сервера.
Контейнеры используют единую ОС, что делает их поддержку и обновление очень простым. Возможно создание и запуск сотен контейнеров на одном обычном физическом сервере.

## Задача 2

Выберите один из вариантов использования организации физических серверов в зависимости от условий использования.

Организация серверов:

- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:

- высоконагруженная база данных, чувствительная к отказу;
- различные web-приложения;
- Windows-системы для использования бухгалтерским отделом;
- системы, выполняющие высокопроизводительные расчёты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию. 

Ответ: 

Высоконагруженная база данных, чувствительная к отказу: виртуализация уровня ОС, сделать master-slave. При отказе быстрое восстановление работоспособности.

Различные web-приложения: виртуализация уровня ОС, либо паравиртуализация. При условии малых трудозатрат и необходимость высокой производительности, то
паравиртуализация. Если приложения могут и должны работать на том же ядре, что и ядро хостовой ОС, то виртуализация уровня ОС, так же может быть лучше, так как 
будет много обращений пользователей к ресурсам приложений.

Windows-системы для использования бухгалтерским отделом: физические сервера. Для 1С достаточно обычного физического сервера, при условии хранения баз на нем же.
Возможно даже, использовать как терминальный сервер.

Системы, выполняющие высокопроизводительные расчёты на GPU: физические сервера - так как скорее всего будут устанавливатся проф видеокарты.

## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
VMWare(Настраиваемые шаблоны помогают автоматизировать распределение нагрузки и оптимизировать выделение ресурсов).

2. Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
Гипервизор с открытым кодом KVM. Бесплатное open source-решение для Linux и Windows виртуальных машин.

3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры.
Microsoft Hyper-V Server. Бесплатное, совместимое и производительное для Windows-инфраструктуры.

4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.
Virtual Box(open source решение) с vagrant(для автоматизации развертывания)

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

Проблемы и недостатки:
разные алгоритмы работы системы виртуализации
разные баги/фичи работы системы виртуализации
разработка автоматизационных решений под обе системы
ограничения на выбор решений для мониторинга, бэкапу и логирования
изменения, которые будут доставляться в одну среду, могут отличаться в способе и методе доставки в другой среде

Минимизации рисков и проблем:
Хорошо проработанная инфраструктура работы среды

Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет:
Да, если в этом действительно есть необходимость.

